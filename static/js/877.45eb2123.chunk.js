"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[877],{6877:function(n,e,t){t.r(e),t.d(e,{default:function(){return on}});var i=t(9439),r=t(2791),s=t(4420),a=t(3050),o=t(3433),d=function(n){return n.contacts.contacts},c=function(n){return n.filter},l=function(n){return n.contacts.isLoading},u=function(n){return n.contacts.error},h=t(6890),x=t(5855),f=t(3994),p=t(720),m=t(697),j=t(6934),v=t(4557),Z=t(5527),g=t(9281),b=t(9836),C=t(3382),w=t(4311),y=t(4422),_=t(6603),P=t(935),S=t(7195),N=t(9825),k=t(3329);function L(n,e,t){return e[t]<n[t]?-1:e[t]>n[t]?1:0}function D(n){var e=n.order,t=n.orderBy,i=n.onRequestSort,r=n.headCells;return(0,k.jsx)(h.Z,{children:(0,k.jsx)(x.Z,{children:r.map((function(n){return(0,k.jsx)(f.Z,{style:{fontWeight:"bold"},width:n.width,align:n.align||"left",padding:n.disablePadding?"none":"normal",sortDirection:t===n.id&&e,children:(0,k.jsxs)(p.Z,{active:t===n.id,direction:t===n.id?e:"asc",onClick:(r=n.id,function(n){i(n,r)}),children:[n.label,t===n.id?(0,k.jsx)(m.Z,{component:"span",sx:_.Z,children:"desc"===e?"sorted descending":"sorted ascending"}):null]})},n.id);var r}))})})}var A=(0,j.ZP)(v.Z)((function(n){var e=n.theme;return{position:"absolute","&.MuiSpeedDial-directionUp, &.MuiSpeedDial-directionLeft":{bottom:e.spacing(2),right:e.spacing(2)},"&.MuiSpeedDial-directionDown, &.MuiSpeedDial-directionRight":{top:e.spacing(2),left:e.spacing(2)}}})),B=function(n){var e=n.headCells,t=n.rows,s=n.onDelete,a=n.sortBy,o=n.onEdit,d=(0,r.useState)(0),c=(0,i.Z)(d,2),l=c[0],u=c[1],h=(0,r.useState)(5),p=(0,i.Z)(h,2),j=p[0],v=p[1],_=(0,r.useState)("asc"),B=(0,i.Z)(_,2),I=B[0],E=B[1],M=(0,r.useState)(a||e[0].id),q=(0,i.Z)(M,2),z=q[0],F=q[1],T=l>0?Math.max(0,(1+l)*j-t.length):0,R=(0,r.useMemo)((function(){return function(n,e){var t=n.map((function(n,e){return[n,e]}));return t.sort((function(n,t){var i=e(n[0],t[0]);return 0!==i?i:n[1]-t[1]})),t.map((function(n){return n[0]}))}(t,function(n,e){return"desc"===n?function(n,t){return L(n,t,e)}:function(n,t){return-L(n,t,e)}}(I,z)).slice(l*j,l*j+j)}),[I,z,l,j,t]);(0,r.useEffect)((function(){j>=t.length&&u(0)}),[t,j]);return(0,k.jsx)(m.Z,{sx:{width:"100%"},children:(0,k.jsxs)(Z.Z,{sx:{width:"100%",mb:2},children:[(0,k.jsx)(g.Z,{children:(0,k.jsxs)(b.Z,{sx:{minWidth:750},"aria-labelledby":"tableTitle",size:"medium",children:[(0,k.jsx)(D,{headCells:e,order:I,orderBy:z,onRequestSort:function(n,e){E(z===e&&"asc"===I?"desc":"asc"),F(e)},rowCount:t.length}),(0,k.jsxs)(C.Z,{children:[R.map((function(n,e){var t="enhanced-table-checkbox-".concat(e);return(0,k.jsxs)(x.Z,{hover:!0,tabIndex:-1,sx:{cursor:"pointer"},children:[(0,k.jsx)(f.Z,{component:"th",id:t,scope:"row",padding:"normal",children:n.name}),(0,k.jsx)(f.Z,{children:n.number}),o||s?(0,k.jsx)(f.Z,{align:"right",children:(0,k.jsx)(m.Z,{sx:{position:"relative",mt:4},children:(0,k.jsxs)(A,{sx:{minHeight:"unset",height:"15px"},direction:"left",icon:(0,k.jsx)(P.Z,{}),ariaLabel:"",children:[o?(0,k.jsx)(w.Z,{icon:(0,k.jsx)(S.Z,{}),tooltipTitle:"Edit",onClick:function(){return o(n.id)}}):null,s?(0,k.jsx)(w.Z,{icon:(0,k.jsx)(N.Z,{}),tooltipTitle:"Delete",onClick:function(){return s(n.id)}}):null]})})}):null]},n.id)})),T>0&&(0,k.jsx)(x.Z,{style:{height:53*T},children:(0,k.jsx)(f.Z,{colSpan:6})})]})]})}),(0,k.jsx)(y.Z,{rowsPerPageOptions:[5,10,25],component:"div",count:t.length,rowsPerPage:j,page:l,onPageChange:function(n,e){u(e)},onRowsPerPageChange:function(n){v(parseInt(n.target.value,10)),u(0)}})]})})},I=t(6788),E=[{id:"name",numeric:!1,disablePadding:!1,label:"Name",width:"250px"},{id:"number",numeric:!0,disablePadding:!1,label:"Number"},{id:"action",numeric:!1,disablePadding:!1,label:"",align:"right"}],M=function(n){var e=n.onEdit,t=(0,s.I0)(),i=(0,s.v9)(d),r=(0,s.v9)(c),a=(null===i||void 0===i?void 0:i.filter((function(n){return""===r.findBy||n.name.toLowerCase().includes(r.value.toLowerCase())||n.number.includes(r.value)})))||[];return(0,k.jsx)(B,{onEdit:e,onDelete:function(n){t((0,I.GK)(n))},headCells:E,rows:(0,o.Z)(a)})},q="ContactForm_contact-form__1+2ej",z=t(9218),F=t(6126),T=t(4294),R=t(607),U=t(3763),W=t(4188),K=t(1993),G=t(4181),H=t(7694),J=function(n){var e=n.contact,t=(0,s.I0)(),a=(0,s.v9)(d),o=(0,r.useState)(null===e||void 0===e?void 0:e.name),c=(0,i.Z)(o,2),l=c[0],u=c[1],h=(0,r.useState)(null===e||void 0===e?void 0:e.number),x=(0,i.Z)(h,2),f=x[0],p=x[1],m=function(n){return n.split(" ").map((function(n){return n.charAt(0).toUpperCase()+n.slice(1).toLowerCase()})).join(" ")};return(0,k.jsx)("div",{className:q,children:(0,k.jsxs)("form",{onSubmit:function(n){(n.preventDefault(),""!==l.trim()&&""!==f.trim())&&(a.some((function(n){return n.name.toLowerCase()===l.toLowerCase()&&(null===e||void 0===e||!e.id||n.id!==e.id)}))?H.Notify.failure("".concat(l," is already in contacts")):null!==e&&void 0!==e&&e.id?t((0,I.Tk)({id:e.id,name:l,number:f})):(t((0,I.uK)({name:l,number:f})),u(""),p("")))},children:[(0,k.jsx)(R.Z,{sx:{fontSize:50,my:.5}}),(0,k.jsx)(z.Z,{InputProps:{startAdornment:(0,k.jsx)(F.Z,{position:"start",children:(0,k.jsx)(U.Z,{})})},variant:"standard",label:"Name",type:"text",name:"name",inputProps:{pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' \\-][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan."},required:!0,value:l,onChange:function(n){u(m(n.target.value))}}),(0,k.jsx)(z.Z,{InputProps:{startAdornment:(0,k.jsx)(F.Z,{position:"start",children:(0,k.jsx)(W.Z,{})})},variant:"standard",type:"tel",label:"Number",name:"number",pattern:"\\+?\\d{1,4}?[\\-.\\s]?\\(?\\d{1,3}?\\)?[\\-.\\s]?\\d{1,4}[\\-.\\s]?\\d{1,4}[\\-.\\s]?\\d{1,9}",inputProps:{pattern:"\\+?\\d{1,4}?[\\-.\\s]?\\(?\\d{1,3}?\\)?[\\-.\\s]?\\d{1,4}[\\-.\\s]?\\d{1,4}[\\-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +"},required:!0,value:f,onChange:function(n){p(n.target.value)}}),(0,k.jsx)(T.Z,{variant:"outlined",style:{gap:5},type:"submit",children:null!==e&&void 0!==e&&e.id?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(K.Z,{}),"Update Contact"]}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(G.Z,{}),"Add Contact"]})})]})})},O=t(2155),Y=t(1003),$=function(){var n=(0,s.I0)(),e=(0,s.v9)(c).findBy;return(0,k.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:(0,k.jsx)("div",{style:{width:"100%"},children:(0,k.jsx)(z.Z,{InputProps:{startAdornment:(0,k.jsx)(F.Z,{position:"start",children:(0,k.jsx)(Y.Z,{})})},sx:{width:"100%"},variant:"outlined",label:"Find contacts",onChange:function(t){n((0,O.T)({value:t.target.value,findBy:e}))}})})})},Q=t(2376),V="Loader_Loader__wqo9C",X="Loader_loaderBox__wsCNM",nn=function(){return(0,k.jsx)("div",{className:V,children:(0,k.jsx)("div",{className:X,children:(0,k.jsx)(Q.gy,{color:"#e84f20",strokeWidth:4,height:150,width:150})})})},en=t(9953),tn=t(725),rn=t(4721),sn="ContactsPage_contacts-container__oqc5B",an="ContactsPage_filter__u3IfC",on=function(){var n=(0,s.I0)(),e=(0,s.v9)(l),t=(0,s.v9)(u),o=(0,r.useState)(null),c=(0,i.Z)(o,2),h=c[0],x=c[1],f=(0,s.v9)(d),p=(0,r.useState)(!1),m=(0,i.Z)(p,2),j=m[0],v=m[1],Z=function(n){return function(){v(n)}};(0,r.useEffect)((function(){n((0,I.yF)())}),[n]),(0,r.useEffect)((function(){t&&H.Notify.failure(t)}),[t]);return(0,k.jsxs)(a.B6,{children:[(0,k.jsx)(a.ql,{children:(0,k.jsx)("title",{children:"Your Contact List...."})}),(0,k.jsxs)("div",{className:"container",children:[e&&(0,k.jsx)(nn,{}),(0,k.jsxs)("div",{className:sn,children:[(0,k.jsxs)("div",{className:an,children:[(0,k.jsx)("h2",{children:"Contacts"}),(0,k.jsxs)(T.Z,{title:"New Contact",style:{width:"145px",gap:5},variant:"outlined",onClick:function(){x(null),v(!0)},children:[(0,k.jsx)(tn.Z,{}),"New"]}),t&&(0,k.jsxs)("b",{style:{color:"red"},children:["Error: ",t]}),(0,k.jsx)($,{}),(0,k.jsx)(M,{onEdit:function(n){var e=f.find((function(e){return e.id===n}));x(e),v(!0)}})]}),(0,k.jsxs)(en.ZP,{open:j,onClose:Z(!1),children:[(0,k.jsx)(T.Z,{style:{display:"flex",justifyContent:"flex-end"},onClick:Z(!1),children:(0,k.jsx)(rn.Z,{})}),(0,k.jsx)(J,{contact:h})]})]})]})]})}}}]);
//# sourceMappingURL=877.45eb2123.chunk.js.map